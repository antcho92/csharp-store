@{
    ViewData["Title"] = "Orders";
}
<h1>Orders</h1>
@model entityStore.Models.OrderViewModel
<div class="row">
    <form asp-action="CreateOrder" class="col-md-6">
        <div asp-validation-summary="All" class='errors'></div>
        <div class="form-group">
            <label asp-for="CustomerId"></label>
            <select asp- for="CustomerId" name="CustomerId" class="form-control">
                @Html.Partial("~/Views/Order/Partials/CustomerPartial.cshtml", "ViewBag.Customers")
            </select>
        </div>
        <div class="form-group">
            <label asp-for="ProductId"></label>
            <select asp-for="ProductId" name="ProductId"  class="form-control">
                @Html.Partial("~/Views/Order/Partials/ProductPartial.cshtml", "ViewBag.Products")
            </select>
        </div>
        <div class="form-group">
            <label asp-for="Quantity"></label>
            <input asp-for="Quantity" type="number" class="form-control" value="1">
        </div>
        <button type="submit" class="btn btn-success">Create Order</button>
    </form>
</div>
<div class="orders">
    <table class="table table-bordered table-striped">
        <h1>Orders</h1>
        <tr>
            <th>Customer Name</th>
            <th>Product</th>
            <th>Quantity</th>
            <th>Date</th>
        </tr>
        @foreach (var order in ViewBag.Orders)
        {
            <tr>
                <td>@order.Customer.Name</td>
                <td>@order.Product.Name</td>
                <td>@order.Quantity</td>
                <td>@order.CreatedAt</td>
            </tr>
        }
    </table>
</div>